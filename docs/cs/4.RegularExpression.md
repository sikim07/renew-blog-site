---
title: '4. Regular Expression / 정규표현식 / Regexp / 정규식 / regex'
date: 2022-08-25 08:50:02
category: 'CS'
draft: false
---

## 정규표현식(Regular Expression)
---
### 정규표현식이란?
**특정한 규칙을 가진 문자열의 집합을 표현하는 데 사용하는 형식 언어**이다. 
컴퓨터 과학의 정규 언어로부터 유래하였으나 구현체에 따라서 정규 언어보다 더 넓은 언어를 표현할 수 있는 경우도 있으며, 
심지어 정규 표현식 자체의 문법도 여러 가지 존재하고 있다. 현재 많은 프로그래밍 언어, 텍스트 처리 프로그램, 
고급 텍스트 편집기 등이 정규 표현식 기능을 제공한다. 일부는 펄, 자바스크립트, 루비, Tcl처럼 문법에 내장되어 있는 
반면 닷넷 언어, 자바, 파이썬, POSIX C, C++ (C++11 이후)에서는 표준 라이브러리를 통해 제공한다. 
그 밖의 대부분의 언어들은 별도의 라이브러리를 통해 정규 표현식을 제공한다.

### 패턴
정규 표현식이라는 문구는 일치하는 텍스트가 준수해야 하는 `패턴`을 표현하기 위해 특정한 표준의 텍스트 신택스를 의미하기 위해
사용된다. 정규 표현식의 각 문자(즉, 패턴을 기술하는 문자열 안의 각 문자)는 `메타문자(metacharactor)`로 이해되거나 `정규 문자`로 이해된다. 
이를테면 정규식 `a.` `a`는 단지 'a'와 일치하는 리터럴 문자이며 `.`는 새 줄을 제외한 모든 문자와 일치시키는 메타 문자이다.

### Javascript에서 정규식을 만드는 두 가지 방법

#### 1. 정규 표현식 리터럴. 슬래시로 패턴을 감싸 작성
```js
const re = /ab+c/
```

#### 2. RegExp 객체의 생성자 호출
```js
const re = new RegExp('ab+c')
```

---

### Javascript에서 정규식의 패턴을 작성하는 방법
1. 단순 패턴 사용 
2. 특수 문자 사용
3. 이스케이핑(Escaping)
4. 괄호 사용

#### 1. 단순패턴 사용
단순 패턴은 문자열을 있는 그대로 탐색할 때 사용합니다. 예를 들어, `/abc/` 패턴은 
문자열에서 정확한 순서로 `abc`라는 문자의 조합이 나타나는 부분과 일치한다. 그러므로 이 패턴은
```
Hi, do you know your abc's?
```
와
```
The latest airplane designs evolved from slabcraft.
``` 
두 문자열에서 일치에 성공하고, 일치하는 부분은 `abc`일 것이다. 반면 "**Grab crab**"에서는 일치하지 않는데, 
이 문자열은 부분 문자열로 "ab c"를 포함하긴 하지만, **정확하게 "abc"를 포함하지는 않기 때문이다.**

#### 2. 특수 문자 사용
하나 이상의 `b`를 찾는다거나 공백 문자를 찾는 등 직접적인 일치 이상의 탐색이 필요할 땐 특수 문자를 사용한다. 
"하나의 `a` 이후에 0개 이상의 `b`, 그 뒤의 `c`"와 일치해야 하면 `/ab*c/` 패턴을 사용할 수 있다. 
`b` 뒤의 `&#42;`는 "이전 항목의 0번 이상 반복"을 의미한다. 이 패턴을 문자열 `cbbabbbbcdebc`에 대해 사용하면,
일치하는 부분 문자열은 `abbbbc`일 것이다.

#### 3. 이스케이핑(Escaping)
**특수 문자를 있는 그대로 탐색(`&#42;`을 직접 찾는 등)해야 하는 경우, 특수 문자 앞에 `역슬래시(\)`를 배치해서 이스케이프 
해야 한다.** 예를 들어 "a" 뒤의 별표("&#42;") 뒤의 "b"와 일치해야 하면 `/a\*b/`를 사용하면 된다. 역슬래시가 
"&#42;"를 "이스케이프"해서, 특수 문자가 아닌 문자 리터럴로 취급한다.

마찬가지로, **슬래시(/)와 일치해야 하는 경우에도 이스케이프를 해야 한다.** 그냥 빗금을 사용하면 패턴이 끝나버린다. 
예를 들어 문자열 `/example/`과 그 뒤 하나 이상의 알파벳을 찾으려면 `/\/example\/[a-z]/`를 사용할 수 있다.
각각의 슬래시 앞에 놓인 역슬래시가 슬래시를 이스케이프한다.

**리터럴 역슬래시에 일치하려면 역슬래시를 이스케이프한다.** `A:&#92;`, `B:&#92;`, `C:&#92;`, ..., `Z:&#92;`와 일치하는 패턴은 
`/[A-Z]:&#92;&#92;/`이다. 앞의 역슬래시가 뒤의 역슬래시를 이스케이프해서, 결과적으로 하나의 리터럴 역슬래시와 일치하게 된다.

**RegExp 생성자와 문자열 리터럴을 사용하는 경우, 역슬래시가 문자열 리터럴의 이스케이프로도 작동한다는 것을 기억해야 
한다.** 정규 표현식의 역슬래시를 나타내려면 문자열 리터럴 수준의 이스케이프도 해줘야 한다.
`/a\*b/` 패턴을 생성하려면 
```js
new RegExp("a\\&#42;b")
```
가 되어야 한다.
이스케이프 되지 않은 문자열을 이미 가지고 있을 땐 `String.replace`를 활용해 이스케이프를 해줄 수 있다.
```js
function escapeRegExp(string) {
  return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&') // $&은 일치한 문자열 전체를 의미
}
```

#### 4. 괄호 사용
**정규 표현식의 아무 부분이나 괄호로 감싸게 되면, 그 부분과 일치하는 부분 문자열을 기억하게 된다.**
기억한 부분 문자열은 불러와서 다시 사용할 수 있다.

---

### 관련된 Javascript 내장함수
- `exec()` : 문자열에서 일치하는 부분을 탐색. 일치 정보를 나타내는 배열, 또는 일치가 없는 경우 `null`을 반환.
- `test()` : 문자열에 일치하는 부분이 있는지 확인. `true` 또는 `false`를 반환합니다.
- `match()` : 캡처 그룹을 포함해서 모든 일치를 담은 배열을 반환. 일치가 없으면 `null`을 반환.
- `matchAll()` : 캡처 그룹을 포함해서 모든 일치를 담은 반복기를 반환.
- `search()` : 문자열에서 일치하는 부분을 탐색. 일치하는 부분의 인덱스, 또는 일치가 없는 경우 `-1`을 반환.
- `replace()` : 문자열에서 일치하는 부분을 탐색하고, 그 부분을 대체 문자열로 변환.
- `replaceAll()` : 문자열에서 일치하는 부분을 모두 탐색하고, 모두 대체 문자열로 변환.
- `split()` : 정규 표현식 또는 문자열 리터럴을 사용해서 문자열을 부분 문자열의 배열로 분리.

###### 출처: https://ko.wikipedia.org/wiki/%EC%A0%95%EA%B7%9C_%ED%91%9C%ED%98%84%EC%8B%9D,https://ko.wikipedia.org/wiki/%EC%A0%95%EA%B7%9C_%ED%91%9C%ED%98%84%EC%8B%9D#%EC%98%88